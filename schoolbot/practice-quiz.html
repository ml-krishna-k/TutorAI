<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practice Quiz - MindMate</title>
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/responsive.css">
    
    <!-- Font Awesome & Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Firebase SDK -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.23.0/firebase-app-compat.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.23.0/firebase-auth-compat.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.23.0/firebase-firestore-compat.min.js"></script>
</head>
<body>
    <!-- Practice Quiz Page -->
    <div id="practiceQuizPage" class="page active">
        <div class="page-header">
            <button class="back-btn" onclick="window.location.href='index.html#dashboardPage'">
                <i class="fas fa-arrow-left"></i>
            </button>
            <h1>üìù Practice Quiz</h1>
        </div>

        <div class="quiz-container">
            <!-- Quiz Selection -->
            <div class="quiz-selection" id="quizSelection">
                <h2>Choose Your Quiz</h2>
                
                <div class="quiz-categories">
                    <div class="category-card" data-subject="mathematics">
                        <div class="category-icon">
                            <i class="fas fa-calculator"></i>
                        </div>
                        <h3>Mathematics</h3>
                        <p>Algebra, Geometry, Calculus</p>
                        <div class="difficulty-badges">
                            <span class="badge easy">Easy</span>
                            <span class="badge medium">Medium</span>
                            <span class="badge hard">Hard</span>
                        </div>
                    </div>
                    
                    <div class="category-card" data-subject="physics">
                        <div class="category-icon">
                            <i class="fas fa-atom"></i>
                        </div>
                        <h3>Physics</h3>
                        <p>Mechanics, Electricity, Optics</p>
                        <div class="difficulty-badges">
                            <span class="badge easy">Easy</span>
                            <span class="badge medium">Medium</span>
                            <span class="badge hard">Hard</span>
                        </div>
                    </div>
                    
                    <div class="category-card" data-subject="chemistry">
                        <div class="category-icon">
                            <i class="fas fa-flask"></i>
                        </div>
                        <h3>Chemistry</h3>
                        <p>Organic, Inorganic, Physical</p>
                        <div class="difficulty-badges">
                            <span class="badge easy">Easy</span>
                            <span class="badge medium">Medium</span>
                            <span class="badge hard">Hard</span>
                        </div>
                    </div>
                    
                    <div class="category-card" data-subject="biology">
                        <div class="category-icon">
                            <i class="fas fa-dna"></i>
                        </div>
                        <h3>Biology</h3>
                        <p>Cell Biology, Genetics, Ecology</p>
                        <div class="difficulty-badges">
                            <span class="badge easy">Easy</span>
                            <span class="badge medium">Medium</span>
                            <span class="badge hard">Hard</span>
                        </div>
                    </div>
                </div>

                <!-- Custom Quiz Creation -->
                <div class="custom-quiz-section">
                    <h3>üéØ Create Custom Quiz</h3>
                    <div class="custom-quiz-form">
                        <div class="form-group">
                            <label for="customSubject">Subject</label>
                            <input type="text" id="customSubject" placeholder="Enter subject name">
                        </div>
                        <div class="form-group">
                            <label for="customTopic">Topic</label>
                            <input type="text" id="customTopic" placeholder="e.g., Photosynthesis, Quadratic Equations">
                        </div>
                        <div class="form-group">
                            <label for="questionCount">Number of Questions</label>
                            <select id="questionCount">
                                <option value="5">5 Questions</option>
                                <option value="10" selected>10 Questions</option>
                                <option value="15">15 Questions</option>
                                <option value="20">20 Questions</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="difficultyLevel">Difficulty</label>
                            <select id="difficultyLevel">
                                <option value="easy">Easy</option>
                                <option value="medium" selected>Medium</option>
                                <option value="hard">Hard</option>
                            </select>
                        </div>
                        <button class="btn-primary" id="generateCustomQuizBtn">
                            <i class="fas fa-magic"></i>
                            Generate Custom Quiz
                        </button>
                    </div>
                </div>
            </div>

            <!-- Quiz Interface -->
            <div class="quiz-interface" id="quizInterface" style="display: none;">
                <div class="quiz-header">
                    <div class="quiz-info">
                        <h2 id="quizTitle">Quiz Title</h2>
                        <p id="quizDescription">Quiz description</p>
                    </div>
                    <div class="quiz-timer">
                        <div class="timer-display" id="timerDisplay">
                            <i class="fas fa-clock"></i>
                            <span id="timeLeft">00:00</span>
                        </div>
                    </div>
                </div>

                <div class="quiz-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <span class="progress-text" id="progressText">Question 1 of 10</span>
                </div>

                <div class="question-container" id="questionContainer">
                    <div class="question-content">
                        <h3 id="questionText">Question text will appear here</h3>
                        <div class="question-image" id="questionImage" style="display: none;">
                            <img src="" alt="Question image" id="questionImg">
                        </div>
                    </div>

                    <div class="options-container" id="optionsContainer">
                        <!-- Options will be dynamically generated -->
                    </div>

                    <div class="question-actions">
                        <button class="btn-secondary" id="flagQuestionBtn">
                            <i class="fas fa-flag"></i>
                            Flag Question
                        </button>
                        <button class="btn-primary" id="nextQuestionBtn">
                            Next Question
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>

                <!-- Quiz Navigation -->
                <div class="quiz-navigation">
                    <div class="nav-buttons">
                        <button class="nav-btn" id="prevBtn">
                            <i class="fas fa-arrow-left"></i>
                            Previous
                        </button>
                        <button class="nav-btn" id="nextBtn">
                            Next
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                    <button class="btn-danger" id="submitQuizBtn" style="display: none;">
                        <i class="fas fa-check"></i>
                        Submit Quiz
                    </button>
                </div>
            </div>

            <!-- Quiz Results -->
            <div class="quiz-results" id="quizResults" style="display: none;">
                <div class="results-header">
                    <h2>üéâ Quiz Complete!</h2>
                    <div class="score-display">
                        <div class="score-circle">
                            <span id="scorePercentage">85%</span>
                        </div>
                        <p>You scored <span id="scoreText">17 out of 20</span></p>
                    </div>
                </div>

                <div class="results-breakdown">
                    <div class="breakdown-card">
                        <h3>üìä Performance Breakdown</h3>
                        <div class="breakdown-stats">
                            <div class="stat-item">
                                <span class="stat-label">Correct Answers</span>
                                <span class="stat-value" id="correctAnswers">17</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Incorrect Answers</span>
                                <span class="stat-value" id="incorrectAnswers">3</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Time Taken</span>
                                <span class="stat-value" id="timeTaken">12:30</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Average Time</span>
                                <span class="stat-value" id="avgTime">37.5s</span>
                            </div>
                        </div>
                    </div>

                    <div class="review-section">
                        <h3>üìù Review Answers</h3>
                        <div class="review-list" id="reviewList">
                            <!-- Review items will be dynamically generated -->
                        </div>
                    </div>
                </div>

                <div class="results-actions">
                    <button class="btn-secondary" id="retakeQuizBtn">
                        <i class="fas fa-redo"></i>
                        Retake Quiz
                    </button>
                    <button class="btn-primary" id="shareResultsBtn">
                        <i class="fas fa-share"></i>
                        Share Results
                    </button>
                    <button class="btn-success" id="saveResultsBtn">
                        <i class="fas fa-save"></i>
                        Save to Progress
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Animation -->
    <div id="loadingOverlay" class="loading-overlay" style="display: none;">
        <div class="loading-spinner">
            <div class="spinner"></div>
            <p id="loadingMessage">Generating quiz...</p>
        </div>
    </div>

    <!-- JavaScript Files -->
    <script src="javascript/config.js"></script>
    <script src="javascript/auth.js"></script>
    <script src="javascript/practice-quiz.js"></script>
    <script src="geminiAPI.js"></script>
</body>
</html> 